// a graph of London Tube stations and connections
// derived from data found at https://www.whatdotheyknow.com/request/station_to_station_journey_times

#include "london_tube.h"
#include <numbers>

namespace LondonTube
{
    std::set<Station> stations{
        {0, "Aldgate", 51.5143, -0.0755},
        {1, "Liverpool Street", 51.5178, -0.0823},
        {2, "Moorgate", 51.5186, -0.0886},
        {3, "Barbican", 51.5204, -0.0979},
        {4, "Farringdon", 51.5203, -0.1053},
        {5, "King's Cross St. Pancras", 51.5308, -0.1238},
        {6, "Euston Square", 51.526, -0.1359},
        {7, "Great Portland Street", 51.5238, -0.1439},
        {8, "Baker Street", 51.5226, -0.1571},
        {9, "Finchley Road", 51.5472, -0.1803},
        {10, "Wembley Park", 51.5635, -0.2795},
        {11, "Preston Road", 51.572, -0.2954},
        {12, "Northwick Park", 51.5784, -0.3184},
        {13, "Harrow-On-The-Hill", 51.5793, -0.3366},
        {14, "West Harrow", 51.5795, -0.3533},
        {15, "Rayners Lane", 51.5753, -0.3714},
        {16, "Eastcote", 51.5765, -0.397},
        {17, "Ruislip Manor", 51.5732, -0.4125},
        {18, "Ruislip", 51.5715, -0.4213},
        {19, "Ickenham", 51.5619, -0.4421},
        {20, "Hillingdon", 51.5538, -0.4499},
        {21, "Uxbridge", 51.5463, -0.4786},
        {22, "North Harrow", 51.5846, -0.3626},
        {23, "Pinner", 51.5926, -0.3805},
        {24, "Northwood Hills", 51.6004, -0.4092},
        {25, "Northwood", 51.6111, -0.424},
        {26, "Moor Park", 51.6294, -0.432},
        {27, "Croxley", 51.647, -0.4412},
        {28, "Watford", 51.6573, -0.4177},
        {29, "Rickmansworth", 51.6404, -0.4733},
        {30, "Chorleywood", 51.6543, -0.5183},
        {31, "Chalfont & Latimer", 51.6679, -0.561},
        {32, "Chesham", 51.7052, -0.611},
        {33, "Amersham", 51.6736, -0.607},
        {34, "Harrow & Wealdstone", 51.5925, -0.3351},
        {35, "Kenton", 51.5816, -0.3162},
        {36, "South Kenton", 51.5701, -0.3081},
        {37, "North Wembley", 51.5621, -0.3034},
        {38, "Wembley Central", 51.5519, -0.2963},
        {39, "Stonebridge Park", 51.5439, -0.2759},
        {40, "Harlesden", 51.5362, -0.2575},
        {41, "Willesden Junction", 51.5326, -0.2478},
        {42, "Kensal Green", 51.5304, -0.225},
        {43, "Queen's Park", 51.5341, -0.2047},
        {44, "Kilburn Park", 51.5351, -0.1939},
        {45, "Maida Vale", 51.53, -0.1854},
        {46, "Warwick Avenue", 51.5235, -0.1835},
        {47, "Paddington", 51.5154, -0.1755},
        {48, "Edgware Road", 51.5203, -0.17},
        {49, "Marylebone", 51.5225, -0.1631},
        {50, "Regent's Park", 51.5234, -0.1466},
        {51, "Oxford Circus", 51.515, -0.1415},
        {52, "Piccadilly Circus", 51.5098, -0.1342},
        {53, "Charing Cross", 51.508, -0.1247},
        {54, "Embankment", 51.5074, -0.1223},
        {55, "Waterloo", 51.5036, -0.1143},
        {56, "Lambeth North", 51.4991, -0.1115},
        {57, "Elephant & Castle", 51.4943, -0.1001},
        {58, "West Ruislip", 51.5696, -0.4376},
        {59, "Ruislip Gardens", 51.5606, -0.4103},
        {60, "South Ruislip", 51.5569, -0.3988},
        {61, "Northolt", 51.5483, -0.3687},
        {62, "Greenford", 51.5423, -0.3456},
        {63, "Perivale", 51.5366, -0.3232},
        {64, "Hanger Lane", 51.5302, -0.2933},
        {65, "North Acton", 51.5237, -0.2597},
        {66, "Ealing Broadway", 51.5152, -0.3017},
        {67, "West Acton", 51.518, -0.2809},
        {68, "East Acton", 51.5168, -0.2474},
        {69, "White City", 51.512, -0.2239},
        {70, "Shepherd's Bush", 51.5058, -0.2265},
        {71, "Holland Park", 51.5075, -0.206},
        {72, "Notting Hill Gate", 51.5094, -0.1967},
        {73, "Queensway", 51.5107, -0.1877},
        {74, "Lancaster Gate", 51.5119, -0.1756},
        {75, "Marble Arch", 51.5136, -0.1586},
        {76, "Bond Street", 51.5142, -0.1494},
        {77, "Tottenham Court Road", 51.5165, -0.131},
        {78, "Holborn", 51.5174, -0.12},
        {79, "Chancery Lane", 51.5185, -0.1111},
        {80, "St. Paul'S", 51.5146, -0.0973},
        {81, "Bank", 51.5133, -0.0886},
        {82, "Bethnal Green", 51.527, -0.0549},
        {83, "Mile End", 51.5249, -0.0332},
        {84, "Stratford", 51.5416, -0.0042},
        {85, "Leyton", 51.5566, -0.0053},
        {86, "Leytonstone", 51.5683, 0.0083},
        {87, "Wanstead", 51.5775, 0.0288},
        {88, "Redbridge", 51.5763, 0.0454},
        {89, "Gants Hill", 51.5765, 0.0663},
        {90, "Newbury Park", 51.5756, 0.0899},
        {91, "Barkingside", 51.5856, 0.0887},
        {92, "Fairlop", 51.596, 0.0912},
        {93, "Hainault", 51.603, 0.0933},
        {94, "Snaresbrook", 51.5808, 0.0216},
        {95, "South Woodford", 51.5917, 0.0275},
        {96, "Woodford", 51.607, 0.0341},
        {97, "Roding Valley", 51.6171, 0.0439},
        {98, "Chigwell", 51.6177, 0.0755},
        {99, "Grange Hill", 51.6132, 0.0923},
        {100, "Buckhurst Hill", 51.6266, 0.0471},
        {101, "Loughton", 51.6412, 0.0558},
        {102, "Debden", 51.6455, 0.0838},
        {103, "Theydon Bois", 51.6717, 0.1033},
        {104, "Epping", 51.6937, 0.1139},
        {105, "Walthamstow Central", 51.583, -0.0195},
        {106, "Blackhorse Road", 51.5867, -0.0417},
        {107, "Tottenham Hale", 51.5882, -0.0594},
        {108, "Seven Sisters", 51.5822, -0.0749},
        {109, "Finsbury Park", 51.5642, -0.1065},
        {110, "Highbury & Islington", 51.546, -0.104},
        {111, "Euston", 51.5282, -0.1337},
        {112, "Warren Street", 51.5247, -0.1384},
        {113, "Green Park", 51.5067, -0.1428},
        {114, "Victoria", 51.4965, -0.1447},
        {115, "Pimlico", 51.4893, -0.1334},
        {116, "Vauxhall", 51.4861, -0.1253},
        {117, "Stockwell", 51.4723, -0.123},
        {118, "Brixton", 51.4627, -0.1145},
        {119, "Stanmore", 51.6194, -0.3028},
        {120, "Canons Park", 51.6078, -0.2947},
        {121, "Queensbury", 51.5942, -0.2861},
        {122, "Kingsbury", 51.5846, -0.2786},
        {123, "Neasden", 51.5542, -0.2503},
        {124, "Dollis Hill", 51.552, -0.2387},
        {125, "Willesden Green", 51.5492, -0.2215},
        {126, "Kilburn", 51.5471, -0.2047},
        {127, "West Hampstead", 51.5469, -0.1906},
        {128, "Swiss Cottage", 51.5432, -0.1738},
        {129, "St. John's Wood", 51.5347, -0.174},
        {130, "Westminster", 51.501, -0.1254},
        {131, "Southwark", 51.501, -0.1052},
        {132, "London Bridge", 51.5052, -0.0864},
        {133, "Bermondsey", 51.4979, -0.0637},
        {134, "Canada Water", 51.4982, -0.0502},
        {135, "Canary Wharf", 51.5051, -0.0209},
        {136, "North Greenwich", 51.5005, 0.0039},
        {137, "Canning Town", 51.5147, 0.0082},
        {138, "West Ham", 51.5287, 0.0056},
        {139, "Edgware", 51.6137, -0.275},
        {140, "Burnt Oak", 51.6028, -0.2641},
        {141, "Colindale", 51.5955, -0.2502},
        {142, "Hendon Central", 51.5829, -0.2259},
        {143, "Brent Cross", 51.5766, -0.2136},
        {144, "Golders Green", 51.5724, -0.1941},
        {145, "Hampstead", 51.5568, -0.178},
        {146, "Belsize Park", 51.5504, -0.1642},
        {147, "Chalk Farm", 51.5441, -0.1538},
        {148, "Camden Town", 51.5392, -0.1426},
        {149, "High Barnet", 51.6503, -0.1943},
        {150, "Totteridge & Whetstone", 51.6302, -0.1791},
        {151, "Woodside Park", 51.6179, -0.1856},
        {152, "West Finchley", 51.6095, -0.1883},
        {153, "Finchley Central", 51.6012, -0.1932},
        {154, "Mill Hill East", 51.6082, -0.2103},
        {155, "East Finchley", 51.5874, -0.165},
        {156, "Highgate", 51.5777, -0.1458},
        {157, "Archway", 51.5653, -0.1353},
        {158, "Tufnell Park", 51.5567, -0.1374},
        {159, "Kentish Town", 51.5507, -0.1402},
        {160, "Mornington Crescent", 51.5342, -0.1387},
        {161, "Goodge Street", 51.5205, -0.1347},
        {162, "Leicester Square", 51.5113, -0.1281},
        {163, "Kennington", 51.4884, -0.1053},
        {164, "Angel", 51.5322, -0.1058},
        {165, "Old Street", 51.5263, -0.0873},
        {166, "Borough", 51.5011, -0.0943},
        {167, "Oval", 51.4819, -0.113},
        {168, "Clapham North", 51.4649, -0.1299},
        {169, "Clapham Common", 51.4618, -0.1384},
        {170, "Clapham South", 51.4527, -0.148},
        {171, "Balham", 51.4431, -0.1525},
        {172, "Tooting Bec", 51.4361, -0.1598},
        {173, "Tooting Broadway", 51.4275, -0.168},
        {174, "Colliers Wood", 51.418, -0.1778},
        {175, "South Wimbledon", 51.4154, -0.1919},
        {176, "Morden", 51.4022, -0.1948},
        {177, "South Harrow", 51.5646, -0.3521},
        {178, "Sudbury Hill", 51.5569, -0.3366},
        {179, "Sudbury Town", 51.5507, -0.3156},
        {180, "Alperton", 51.5407, -0.2997},
        {181, "Park Royal", 51.527, -0.2841},
        {182, "North Ealing", 51.5175, -0.2887},
        {183, "Ealing Common", 51.5101, -0.2882},
        {184, "Acton Town", 51.5028, -0.2801},
        {185, "Heathrow Terminal 5", 51.4723, -0.488},
        {186, "Heathrow Terminals 1, 2 & 3", 51.4713, -0.4524},
        {187, "Hatton Cross", 51.4669, -0.4227},
        {188, "Hounslow West", 51.4734, -0.3855},
        {189, "Hounslow Central", 51.4713, -0.3665},
        {190, "Hounslow East", 51.4733, -0.3564},
        {191, "Osterley", 51.4813, -0.3522},
        {192, "Boston Manor", 51.4956, -0.325},
        {193, "Northfields", 51.4995, -0.3142},
        {194, "South Ealing", 51.5011, -0.3072},
        {195, "Hammersmith", 51.4936, -0.2251},
        {196, "Barons Court", 51.4905, -0.2139},
        {197, "Earl's Court", 51.492, -0.1973},
        {198, "Gloucester Road", 51.4945, -0.1829},
        {199, "South Kensington", 51.4941, -0.1738},
        {200, "Knightsbridge", 51.5015, -0.1607},
        {201, "Hyde Park Corner", 51.5027, -0.1527},
        {202, "Covent Garden", 51.5129, -0.1243},
        {203, "Russell Square", 51.523, -0.1244},
        {204, "Caledonian Road", 51.5481, -0.1188},
        {205, "Holloway Road", 51.5526, -0.1132},
        {206, "Arsenal", 51.5586, -0.1059},
        {207, "Manor House", 51.5712, -0.0958},
        {208, "Turnpike Lane", 51.5904, -0.1028},
        {209, "Wood Green", 51.5975, -0.1097},
        {210, "Bounds Green", 51.6071, -0.1243},
        {211, "Arnos Grove", 51.6164, -0.1331},
        {212, "Southgate", 51.6322, -0.128},
        {213, "Oakwood", 51.6476, -0.1318},
        {214, "Cockfosters", 51.6517, -0.1496},
        {215, "Heathrow Terminal 4", 51.4598, -0.4476},
        {216, "Goldhawk Road", 51.5018, -0.2267},
        {217, "Wood Lane", 51.5059, -0.2212},
        {218, "Latimer Road", 51.5139, -0.2172},
        {219, "Ladbroke Grove", 51.5172, -0.2107},
        {220, "Westbourne Park", 51.521, -0.2011},
        {221, "Royal Oak", 51.519, -0.188},
        {222, "Aldgate East", 51.5154, -0.0726},
        {223, "Whitechapel", 51.5194, -0.0612},
        {224, "Stepney Green", 51.5221, -0.047},
        {225, "Bow Road", 51.5269, -0.0247},
        {226, "Bromley by Bow", 51.5248, -0.0119},
        {227, "Plaistow", 51.5313, 0.0172},
        {228, "Upton Park", 51.5352, 0.0343},
        {229, "East Ham", 51.5394, 0.0518},
        {230, "Barking", 51.5396, 0.081},
        {231, "Bayswater", 51.5121, -0.1879},
        {232, "High Street Kensington", 51.5009, -0.1925},
        {233, "Sloane Square", 51.4924, -0.1565},
        {234, "St. James's Park", 51.4994, -0.1335},
        {235, "Temple", 51.5111, -0.1141},
        {236, "Blackfriars", 51.512, -0.1031},
        {237, "Mansion House", 51.5122, -0.094},
        {238, "Cannon Street", 51.5113, -0.0904},
        {239, "Monument", 51.5108, -0.0863},
        {240, "Tower Hill", 51.5098, -0.0766},
        {241, "Upminster", 51.559, 0.251},
        {242, "Upminster Bridge", 51.5582, 0.2343},
        {243, "Hornchurch", 51.5539, 0.2184},
        {244, "Elm Park", 51.5496, 0.1977},
        {245, "Dagenham East", 51.5443, 0.1655},
        {246, "Dagenham Heathway", 51.5417, 0.1469},
        {247, "Becontree", 51.5403, 0.127},
        {248, "Upney", 51.5385, 0.1014},
        {249, "Kensington (Olympia)", 51.4983, -0.2106},
        {250, "West Brompton", 51.4872, -0.1953},
        {251, "Fulham Broadway", 51.4804, -0.195},
        {252, "Parsons Green", 51.4753, -0.2011},
        {253, "Putney Bridge", 51.4682, -0.2089},
        {254, "East Putney", 51.4586, -0.2112},
        {255, "Southfields", 51.4454, -0.2066},
        {256, "Wimbledon Park", 51.4343, -0.1992},
        {257, "Wimbledon", 51.4214, -0.2064},
        {258, "West Kensington", 51.4907, -0.2065},
        {259, "Ravenscourt Park", 51.4942, -0.2359},
        {260, "Stamford Brook", 51.495, -0.2459},
        {261, "Turnham Green", 51.4951, -0.2547},
        {262, "Chiswick Park", 51.4946, -0.2678},
        {263, "Gunnersbury", 51.4915, -0.2754},
        {264, "Kew Gardens", 51.477, -0.285},
        {265, "Richmond", 51.4633, -0.3013},
        {266, "New Cross", 51.4767, -0.0327},
        {267, "Surrey Quays", 51.4933, -0.0478},
        {268, "New Cross Gate", 51.4757, -0.0402},
        {269, "Rotherhithe", 51.501, -0.0525},
        {270, "Wapping", 51.5043, -0.0558},
        {271, "Shadwell", 51.5117, -0.056},
        {272, "Shoreditch", 51.5227, -0.0708},
    };
    std::set<Line> lines{
        {0, "Metropolitan"},
        {1, "Bakerloo"},
        {2, "Central"},
        {3, "Victoria"},
        {4, "Waterloo & City"},
        {5, "Jubilee"},
        {6, "Northern"},
        {7, "Piccadilly"},
        {8, "Hammersmith & City"},
        {9, "Circle"},
        {10, "District"},
        {11, "East London"},
    };
    std::set<Connection> connections{
        {0, 1, 0.61, 0, 105.0, 120.0, 142.79999999999998},
        {1, 2, 0.51, 0, 79.2, 90.0, 90.0},
        {2, 3, 0.63, 0, 82.8, 90.0, 90.0},
        {3, 4, 0.51, 0, 72.0, 117.0, 90.0},
        {4, 5, 1.85, 0, 187.20000000000002, 210.0, 210.0},
        {5, 6, 0.85, 0, 99.0, 120.0, 120.0},
        {6, 7, 0.61, 0, 78.0, 90.0, 90.0},
        {7, 8, 0.92, 0, 133.8, 244.8, 229.2},
        {8, 9, 3.38, 0, 333.0, 333.0, 330.59999999999997},
        {9, 10, 7.0, 0, 423.0, 417.0, 420.0},
        {9, 13, 11.63, 0, 661.1999999999999, 660.0, 660.0},
        {10, 11, 1.46, 0, 127.2, 150.0, 150.0},
        {11, 12, 1.64, 0, 138.0, 150.0, 150.0},
        {12, 13, 1.29, 0, 139.2, 271.8, 181.79999999999998},
        {13, 14, 1.26, 0, 139.2, 120.0, 120.0},
        {13, 22, 2.0, 0, 190.8, 180.0, 180.0},
        {13, 26, 9.39, 0, 541.8, 570.0, 570.0},
        {14, 15, 1.38, 0, 122.99999999999999, 154.2, 150.0},
        {15, 16, 1.72, 0, 133.8, 151.2, 150.0},
        {16, 17, 1.14, 0, 109.2, 121.2, 120.0},
        {17, 18, 0.72, 0, 81.0, 91.2, 90.0},
        {18, 19, 1.85, 0, 154.2, 156.0, 150.0},
        {19, 20, 1.08, 0, 105.0, 120.0, 120.0},
        {20, 21, 2.03, 0, 244.8, 241.2, 212.4},
        {22, 23, 1.48, 0, 120.0, 150.0, 150.0},
        {23, 24, 2.08, 0, 156.0, 150.0, 150.0},
        {24, 25, 1.61, 0, 133.8, 150.0, 150.0},
        {25, 26, 2.22, 0, 153.0, 180.0, 180.0},
        {26, 27, 2.94, 0, 259.8, 270.0, 270.0},
        {26, 29, 3.49, 0, 247.79999999999998, 300.0, 300.0},
        {27, 28, 1.9, 0, 216.0, 216.0, 210.0},
        {29, 30, 3.38, 0, 241.8, 240.0, 240.0},
        {30, 31, 3.43, 0, 237.0, 280.79999999999995, 270.0},
        {31, 32, 6.19, 0, 568.8000000000001, 518.4000000000001, 510.0},
        {31, 33, 3.27, 0, 244.20000000000002, 240.0, 240.0},
        {8, 50, 0.88, 1, 100.8, 120.0, 120.0},
        {34, 35, 1.74, 1, 133.8, 150.0, 150.0},
        {35, 36, 1.4, 1, 112.8, 120.0, 120.0},
        {36, 37, 0.9, 1, 90.0, 90.0, 90.0},
        {37, 38, 1.27, 1, 115.19999999999999, 123.60000000000001, 123.60000000000001},
        {38, 39, 1.71, 1, 133.8, 187.79999999999998, 187.79999999999998},
        {39, 40, 1.53, 1, 127.8, 144.0, 144.0},
        {40, 41, 1.05, 1, 99.0, 133.8, 133.8},
        {41, 42, 1.5, 1, 148.20000000000002, 150.0, 150.0},
        {42, 43, 1.32, 1, 159.0, 283.2, 283.2},
        {43, 44, 0.79, 1, 85.19999999999999, 90.0, 90.0},
        {44, 45, 0.88, 1, 88.8, 120.0, 120.0},
        {45, 46, 0.79, 1, 90.0, 90.0, 90.0},
        {46, 47, 0.88, 1, 94.80000000000001, 120.0, 120.0},
        {47, 48, 0.72, 1, 94.2, 90.0, 90.0},
        {48, 49, 0.45, 1, 67.2, 90.0, 90.0},
        {49, 8, 0.5, 1, 70.19999999999999, 90.0, 90.0},
        {50, 51, 0.87, 1, 111.0, 120.0, 120.0},
        {51, 52, 0.97, 1, 117.0, 148.8, 148.8},
        {52, 53, 0.55, 1, 81.0, 90.0, 90.0},
        {53, 54, 0.37, 1, 57.0, 90.0, 90.0},
        {54, 55, 0.71, 1, 85.8, 90.0, 90.0},
        {55, 56, 0.63, 1, 87.0, 120.0, 120.0},
        {56, 57, 0.82, 1, 154.2, 150.0, 150.0},
        {1, 82, 2.27, 2, 156.0, 165.0, 165.0},
        {51, 77, 0.58, 2, 58.8, 90.0, 90.0},
        {58, 59, 2.04, 2, 136.79999999999998, 154.2, 150.0},
        {59, 60, 0.87, 2, 78.0, 90.0, 90.0},
        {60, 61, 2.29, 2, 133.8, 154.8, 150.0},
        {61, 62, 1.79, 2, 115.8, 120.0, 120.0},
        {62, 63, 1.69, 2, 111.0, 139.8, 135.0},
        {63, 64, 2.11, 2, 126.0, 135.0, 135.6},
        {64, 65, 2.49, 2, 171.0, 206.4, 208.8},
        {65, 68, 1.11, 2, 90.0, 105.0, 105.0},
        {66, 67, 1.53, 2, 136.79999999999998, 135.0, 135.0},
        {67, 65, 1.77, 2, 138.0, 171.6, 195.6},
        {68, 69, 2.06, 2, 154.2, 196.79999999999998, 222.6},
        {69, 70, 1.16, 2, 160.8, 165.0, 165.0},
        {70, 71, 0.87, 2, 82.2, 105.0, 105.0},
        {71, 72, 0.61, 2, 64.80000000000001, 90.0, 90.0},
        {72, 73, 0.69, 2, 70.19999999999999, 90.0, 90.0},
        {73, 74, 0.9, 2, 81.0, 90.0, 90.0},
        {74, 75, 1.21, 2, 115.19999999999999, 162.6, 150.0},
        {75, 76, 0.55, 2, 60.0, 75.0, 75.0},
        {76, 51, 0.66, 2, 66.0, 90.0, 90.0},
        {77, 78, 0.89, 2, 97.8, 132.6, 120.6},
        {78, 79, 0.4, 2, 52.2, 60.0, 60.0},
        {79, 80, 1.03, 2, 91.2, 120.0, 120.0},
        {80, 81, 0.74, 2, 97.2, 120.0, 120.0},
        {81, 1, 0.74, 2, 97.2, 135.0, 135.0},
        {82, 83, 1.64, 2, 118.8, 135.0, 135.0},
        {83, 84, 2.83, 2, 190.8, 205.2, 195.0},
        {84, 85, 2.09, 2, 144.0, 165.0, 165.0},
        {85, 86, 1.63, 2, 121.2, 168.6, 165.6},
        {86, 87, 1.72, 2, 129.0, 135.0, 135.0},
        {86, 94, 1.58, 2, 108.0, 135.0, 135.0},
        {87, 88, 1.22, 2, 97.2, 120.0, 120.0},
        {88, 89, 1.27, 2, 99.0, 105.0, 105.0},
        {89, 90, 2.37, 2, 160.8, 183.6, 178.8},
        {90, 91, 1.11, 2, 93.0, 105.0, 105.0},
        {91, 92, 1.22, 2, 94.2, 110.4, 107.4},
        {92, 93, 0.76, 2, 175.8, 233.4, 247.20000000000002},
        {93, 99, 1.13, 2, 103.8, 113.39999999999999, 107.4},
        {94, 95, 1.29, 2, 97.2, 105.0, 105.0},
        {95, 96, 1.8, 2, 114.0, 140.39999999999998, 135.6},
        {96, 100, 2.32, 2, 136.79999999999998, 150.0, 150.0},
        {97, 96, 1.34, 2, 121.79999999999998, 166.79999999999998, 133.20000000000002},
        {98, 97, 2.28, 2, 147.0, 166.2, 150.0},
        {99, 98, 1.32, 2, 97.8, 120.0, 120.0},
        {100, 101, 1.83, 2, 141.0, 162.0, 151.79999999999998},
        {101, 102, 2.03, 2, 127.8, 133.20000000000002, 135.0},
        {102, 103, 3.35, 2, 180.0, 180.0, 180.0},
        {103, 104, 2.54, 2, 156.0, 165.6, 165.0},
        {5, 111, 0.74, 3, 79.2, 115.19999999999999, 90.0},
        {51, 113, 1.14, 3, 106.8, 120.0, 122.4},
        {105, 106, 1.45, 3, 127.2, 120.0, 120.0},
        {106, 107, 1.37, 3, 114.0, 141.6, 120.0},
        {107, 108, 1.05, 3, 120.0, 166.2, 196.79999999999998},
        {108, 109, 3.15, 3, 226.2, 240.0, 240.0},
        {109, 110, 1.93, 3, 174.0, 173.4, 153.0},
        {110, 5, 2.45, 3, 166.2, 210.0, 210.0},
        {111, 112, 0.76, 3, 78.0, 90.0, 90.0},
        {112, 51, 0.9, 3, 103.2, 146.4, 120.0},
        {113, 114, 1.09, 3, 112.8, 150.0, 152.4},
        {114, 115, 1.19, 3, 109.80000000000001, 120.0, 120.0},
        {115, 116, 0.8, 3, 84.0, 90.0, 92.4},
        {116, 117, 1.77, 3, 138.0, 176.4, 151.2},
        {117, 118, 1.46, 3, 121.79999999999998, 150.0, 150.0},
        {55, 81, 2.37, 4, 292.2, 240.0, 240.0},
        {8, 76, 1.66, 5, 126.0, 150.0, 150.0},
        {9, 128, 0.61, 5, 70.8, 90.0, 90.0},
        {10, 123, 2.28, 5, 156.0, 181.79999999999998, 180.6},
        {55, 131, 0.44, 5, 61.2, 60.0, 60.0},
        {76, 113, 1.37, 5, 106.8, 150.0, 150.0},
        {113, 130, 1.33, 5, 112.2, 150.0, 150.0},
        {119, 120, 1.27, 5, 117.0, 120.0, 120.0},
        {120, 121, 1.71, 5, 115.8, 150.0, 150.0},
        {121, 122, 1.33, 5, 103.2, 120.0, 120.0},
        {122, 10, 2.85, 5, 208.20000000000002, 283.8, 273.59999999999997},
        {123, 124, 0.85, 5, 85.8, 90.0, 90.0},
        {124, 125, 1.21, 5, 108.0, 126.6, 128.4},
        {125, 126, 1.19, 5, 100.8, 120.0, 120.0},
        {126, 127, 1.09, 5, 97.8, 150.0, 120.0},
        {127, 9, 0.61, 5, 75.0, 90.0, 90.0},
        {128, 129, 0.92, 5, 91.2, 120.0, 120.0},
        {129, 8, 2.06, 5, 166.2, 210.0, 210.0},
        {130, 55, 0.96, 5, 82.8, 120.0, 120.0},
        {131, 132, 1.25, 5, 99.0, 150.0, 150.0},
        {132, 133, 1.93, 5, 135.0, 150.0, 150.0},
        {133, 134, 1.06, 5, 88.8, 120.0, 120.0},
        {134, 135, 2.41, 5, 150.0, 180.0, 181.2},
        {135, 136, 1.71, 5, 133.8, 191.4, 209.4},
        {136, 137, 1.71, 5, 129.0, 150.0, 150.0},
        {137, 138, 1.58, 5, 129.0, 175.8, 154.8},
        {138, 84, 1.54, 5, 189.0, 294.0, 226.2},
        {2, 81, 0.82, 6, 114.0, 120.0, 120.0},
        {5, 164, 1.38, 6, 130.8, 150.0, 150.0},
        {55, 163, 1.9, 6, 178.20000000000002, 237.6, 204.0},
        {57, 163, 0.9, 6, 121.79999999999998, 180.0, 208.20000000000002},
        {77, 162, 0.4, 6, 58.8, 60.0, 60.0},
        {81, 132, 0.69, 6, 93.0, 135.0, 120.0},
        {112, 161, 0.47, 6, 64.2, 90.0, 90.0},
        {117, 168, 0.82, 6, 93.0, 90.0, 90.0},
        {132, 166, 0.68, 6, 87.0, 90.0, 90.0},
        {139, 140, 1.48, 6, 145.8, 150.0, 150.0},
        {140, 141, 1.32, 6, 118.8, 150.0, 150.0},
        {141, 142, 2.11, 6, 169.8, 180.0, 180.0},
        {142, 143, 1.11, 6, 103.8, 120.0, 120.0},
        {143, 144, 1.56, 6, 154.2, 181.79999999999998, 218.4},
        {144, 145, 2.35, 6, 205.2, 210.0, 210.0},
        {145, 146, 1.21, 6, 109.2, 120.0, 120.0},
        {146, 147, 1.11, 6, 106.2, 120.0, 120.0},
        {147, 148, 0.85, 6, 91.8, 157.20000000000002, 153.6},
        {148, 111, 1.72, 6, 177.0, 210.0, 213.0},
        {148, 160, 0.64, 6, 97.8, 90.0, 90.0},
        {149, 150, 2.48, 6, 220.2, 210.0, 210.0},
        {150, 151, 1.51, 6, 133.8, 150.0, 150.0},
        {151, 152, 0.98, 6, 102.0, 90.0, 90.0},
        {152, 153, 1.14, 6, 124.80000000000001, 187.79999999999998, 150.6},
        {153, 155, 2.43, 6, 202.20000000000002, 210.0, 210.0},
        {154, 153, 1.53, 6, 165.0, 196.2, 180.0},
        {155, 156, 1.64, 6, 180.0, 180.0, 180.0},
        {156, 157, 1.71, 6, 168.0, 180.0, 180.0},
        {157, 158, 0.89, 6, 96.0, 90.0, 90.0},
        {158, 159, 0.8, 6, 85.19999999999999, 90.0, 90.0},
        {159, 148, 1.16, 6, 115.8, 184.8, 184.8},
        {160, 111, 0.82, 6, 91.2, 120.0, 120.0},
        {161, 77, 0.63, 6, 79.2, 103.8, 90.0},
        {162, 53, 0.47, 6, 72.0, 119.4, 90.0},
        {163, 167, 0.82, 6, 94.80000000000001, 120.0, 120.0},
        {164, 165, 1.45, 6, 172.20000000000002, 180.0, 180.0},
        {165, 2, 0.69, 6, 82.2, 120.0, 90.6},
        {166, 57, 0.85, 6, 103.2, 120.0, 120.0},
        {167, 117, 1.37, 6, 132.0, 150.0, 150.0},
        {168, 169, 0.63, 6, 84.0, 90.0, 90.0},
        {169, 170, 1.26, 6, 120.0, 150.0, 150.0},
        {170, 171, 1.16, 6, 112.8, 120.0, 120.0},
        {171, 172, 0.98, 6, 100.19999999999999, 120.0, 120.0},
        {172, 173, 1.11, 6, 106.2, 120.0, 120.0},
        {173, 174, 1.21, 6, 118.8, 120.0, 120.0},
        {174, 175, 1.14, 6, 112.8, 120.0, 120.0},
        {175, 176, 1.46, 6, 177.0, 213.0, 213.6},
        {5, 204, 1.96, 7, 172.79999999999998, 210.0, 210.0},
        {15, 177, 1.9, 7, 154.8, 224.4, 267.6},
        {52, 162, 0.5, 7, 70.19999999999999, 90.0, 90.0},
        {78, 203, 0.72, 7, 93.0, 120.0, 120.0},
        {109, 207, 1.05, 7, 93.0, 120.0, 120.0},
        {113, 52, 0.56, 7, 66.0, 90.0, 90.0},
        {162, 202, 0.26, 7, 46.2, 60.0, 60.6},
        {177, 178, 1.37, 7, 111.0, 120.0, 120.0},
        {178, 179, 1.66, 7, 121.79999999999998, 150.0, 150.0},
        {179, 180, 1.58, 7, 117.0, 150.0, 150.0},
        {180, 181, 1.98, 7, 132.0, 150.0, 150.0},
        {181, 182, 1.06, 7, 91.2, 150.0, 121.79999999999998},
        {182, 183, 0.95, 7, 99.0, 150.0, 150.0},
        {183, 184, 1.03, 7, 109.80000000000001, 182.4, 207.0},
        {184, 195, 4.41, 7, 339.0, 360.0, 331.8},
        {185, 186, 2.48, 7, 240.0, 240.0, 240.0},
        {186, 187, 2.16, 7, 180.0, 180.0, 180.0},
        {187, 188, 2.91, 7, 195.0, 210.0, 210.0},
        {187, 215, 1.83, 7, 126.0, 150.0, 150.0},
        {188, 189, 1.46, 7, 118.8, 150.0, 150.0},
        {189, 190, 0.74, 7, 78.0, 90.0, 90.0},
        {190, 191, 0.97, 7, 91.8, 120.0, 120.0},
        {191, 192, 2.43, 7, 171.0, 180.0, 180.0},
        {192, 193, 1.0, 7, 118.8, 267.6, 202.79999999999998},
        {193, 194, 0.39, 7, 58.8, 90.0, 90.0},
        {194, 184, 2.2, 7, 175.8, 246.60000000000002, 256.8},
        {195, 196, 0.68, 7, 82.8, 120.0, 120.0},
        {196, 197, 1.63, 7, 153.0, 180.0, 180.0},
        {197, 198, 0.79, 7, 82.2, 90.0, 90.0},
        {198, 199, 0.71, 7, 76.8, 90.0, 90.0},
        {199, 200, 1.22, 7, 148.8, 180.0, 180.0},
        {200, 201, 0.51, 7, 66.0, 90.0, 90.0},
        {201, 113, 1.06, 7, 103.8, 120.0, 121.2},
        {202, 78, 0.6, 7, 84.0, 90.0, 90.0},
        {203, 5, 0.92, 7, 114.0, 148.20000000000002, 122.99999999999999},
        {204, 205, 0.6, 7, 70.8, 90.0, 90.0},
        {205, 206, 0.74, 7, 76.8, 90.0, 90.0},
        {206, 109, 0.69, 7, 82.8, 90.0, 90.0},
        {207, 208, 2.32, 7, 172.79999999999998, 180.0, 180.0},
        {208, 209, 0.98, 7, 94.2, 120.0, 121.2},
        {209, 210, 1.53, 7, 133.8, 150.0, 150.0},
        {210, 211, 1.26, 7, 154.8, 217.20000000000002, 234.60000000000002},
        {211, 212, 1.95, 7, 168.0, 151.2, 150.6},
        {212, 213, 1.87, 7, 148.8, 234.0, 210.6},
        {213, 214, 1.27, 7, 169.8, 180.0, 185.39999999999998},
        {215, 186, 4.31, 7, 277.8, 300.0, 300.0},
        {1, 222, 0.92, 8, 115.8, 188.4, 166.79999999999998},
        {48, 8, 0.72, 8, 88.2, 170.39999999999998, 150.0},
        {70, 217, 0.47, 8, 90.0, 90.0, 90.0},
        {83, 225, 0.55, 8, 76.2, 90.0, 90.0},
        {138, 227, 0.76, 8, 85.8, 135.6, 122.4},
        {195, 216, 0.82, 8, 122.99999999999999, 120.0, 120.0},
        {216, 70, 0.51, 8, 69.0, 90.0, 90.0},
        {217, 218, 0.54, 8, 90.0, 90.0, 90.0},
        {218, 219, 0.66, 8, 82.2, 90.0, 90.0},
        {219, 220, 0.79, 8, 88.8, 90.0, 90.0},
        {220, 221, 0.98, 8, 106.8, 120.0, 120.0},
        {221, 47, 0.64, 8, 91.2, 120.0, 120.0},
        {222, 223, 0.82, 8, 130.2, 150.0, 120.6},
        {223, 224, 1.0, 8, 122.99999999999999, 120.0, 120.0},
        {224, 83, 1.05, 8, 103.8, 120.0, 120.0},
        {225, 226, 1.01, 8, 127.2, 120.0, 120.0},
        {226, 138, 1.37, 8, 120.0, 120.0, 120.0},
        {227, 228, 1.29, 8, 118.2, 120.0, 120.0},
        {228, 229, 1.4, 8, 121.2, 120.0, 120.0},
        {229, 230, 2.29, 8, 226.79999999999998, 216.0, 209.4},
        {47, 231, 0.98, 9, 99.0, 120.0, 120.0},
        {54, 235, 0.71, 9, 82.2, 120.0, 120.0},
        {72, 232, 0.93, 9, 94.80000000000001, 214.2, 201.6},
        {114, 234, 0.72, 9, 85.19999999999999, 90.0, 90.0},
        {130, 54, 0.69, 9, 82.2, 120.0, 120.0},
        {199, 233, 1.22, 9, 118.8, 120.0, 120.0},
        {231, 72, 0.79, 9, 88.2, 120.0, 120.0},
        {232, 198, 0.93, 9, 108.0, 159.60000000000002, 174.0},
        {233, 114, 1.05, 9, 108.0, 120.0, 120.0},
        {234, 130, 0.76, 9, 90.0, 120.0, 120.0},
        {235, 236, 0.76, 9, 84.0, 120.0, 120.0},
        {236, 237, 0.61, 9, 91.2, 117.0, 91.2},
        {237, 238, 0.31, 9, 58.8, 60.0, 60.0},
        {238, 239, 0.34, 9, 58.199999999999996, 90.0, 90.0},
        {239, 240, 0.68, 9, 108.0, 120.0, 124.19999999999999},
        {240, 0, 0.5, 9, 78.0, 243.0, 190.8},
        {183, 66, 1.5, 10, 210.0, 210.0, 212.4},
        {195, 259, 0.93, 10, 97.8, 120.0, 120.0},
        {197, 249, 1.54, 10, 184.8, 180.0, 180.0},
        {197, 250, 0.6, 10, 85.19999999999999, 90.0, 90.0},
        {197, 258, 0.9, 10, 97.2, 120.0, 120.0},
        {222, 240, 0.8, 10, 112.2, 181.79999999999998, 219.0},
        {232, 197, 1.26, 10, 163.20000000000002, 246.60000000000002, 229.2},
        {241, 242, 1.24, 10, 124.80000000000001, 120.0, 121.79999999999998},
        {242, 243, 1.26, 10, 106.8, 120.0, 120.0},
        {243, 244, 1.5, 10, 118.8, 150.0, 150.0},
        {244, 245, 2.37, 10, 166.2, 184.2, 190.8},
        {245, 246, 1.35, 10, 109.80000000000001, 120.0, 120.0},
        {246, 247, 1.37, 10, 112.8, 150.0, 150.0},
        {247, 248, 1.87, 10, 139.8, 150.0, 150.0},
        {248, 230, 1.38, 10, 115.19999999999999, 159.60000000000002, 229.2},
        {250, 251, 0.84, 10, 93.0, 90.0, 90.0},
        {251, 252, 0.79, 10, 90.0, 120.0, 120.0},
        {252, 253, 0.95, 10, 139.2, 150.0, 150.0},
        {253, 254, 1.11, 10, 130.8, 120.0, 120.0},
        {254, 255, 1.53, 10, 141.0, 150.0, 150.0},
        {255, 256, 1.45, 10, 122.99999999999999, 150.0, 150.6},
        {256, 257, 1.5, 10, 210.0, 181.2, 184.8},
        {258, 196, 0.64, 10, 79.2, 90.0, 90.0},
        {259, 260, 0.77, 10, 82.2, 90.0, 90.0},
        {260, 261, 0.55, 10, 70.19999999999999, 118.2, 94.80000000000001},
        {261, 262, 0.95, 10, 94.80000000000001, 120.0, 120.0},
        {261, 263, 1.59, 10, 136.79999999999998, 189.0, 180.0},
        {262, 184, 1.21, 10, 109.80000000000001, 157.79999999999998, 123.60000000000001},
        {263, 264, 1.71, 10, 145.8, 150.0, 150.0},
        {264, 265, 2.14, 10, 245.99999999999997, 214.2, 210.0},
        {134, 269, 0.32, 11, 51.0, 60.0, 60.0},
        {223, 272, 0.72, 11, 111.0, 120.0, 120.0},
        {266, 267, 2.27, 11, 217.20000000000002, 240.0, 240.0},
        {267, 134, 0.55, 11, 88.2, 90.0, 90.0},
        {268, 267, 2.04, 11, 168.0, 210.0, 210.0},
        {269, 270, 0.51, 11, 70.19999999999999, 90.0, 90.0},
        {270, 271, 0.77, 11, 85.8, 90.0, 90.0},
        {271, 223, 0.98, 11, 118.8, 150.0, 130.2},
    };

    std::optional<Line> Line::from_id(unsigned id)
    {
        auto it = lines.find({id});
        return (it == lines.end()) ? std::optional<Line>{} : std::optional<Line>{*it};
    }

    std::optional<Station> Station::from_id(g::vertex_t id)
    {
        auto it = stations.find({id});
        return (it == stations.end()) ? std::optional<Station>{} : std::optional<Station>{*it};
    }

    std::optional<Station> Station::from_name(const std::string &name)
    {
        auto it = std::find_if(stations.begin(), stations.end(), [&name](const Station &s)
                               { return s._name == name; });
        return (it == stations.end()) ? std::optional<Station>{} : std::optional<Station>{*it};
    }

    double Station::distance_from(const Station &s) const
    {
        // Haversine formula
        // see https://en.wikipedia.org/wiki/Haversine_formula

        // Earth average radius in meters
        constexpr double r = 6'371'000.0;
        constexpr double to_rad = std::numbers::pi_v<double> / 180.0;
        double lat1 = _latitude * to_rad;
        double lat2 = s._latitude * to_rad;
        double lon1 = _longitude * to_rad;
        double lon2 = s._longitude * to_rad;
        double h = std::sqrt((1 - std::cos(lat2 - lat1) + std::cos(lat1) * std::cos(lat2) * (1 - std::cos((lon2 - lon1))))/ 2.0);
        return 2.0 * r * std::asin(std::min(1.0, h));
    }

    std::optional<Connection> Connection::from_id(g::vertex_t start, g::vertex_t end)
    {
        Connection c{start, end};
        auto it = connections.find(c);
        if (it == connections.end())
        {
            c = Connection{end, start};
            it = connections.find(c);
        }
        return (it == connections.end()) ? std::optional<Connection>{} : std::optional<Connection>{*it};
    }

} // namespace LondonTube
